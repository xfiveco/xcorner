

<style>
    .c-reviews-carousel__{{_.id}} {
        margin-top: {{desktop_margin.top.value}}{{desktop_margin.top.type}};
        margin-bottom: {{desktop_margin.bottom.value}}{{desktop_margin.bottom.type}};
    }

    @media screen and (max-width: 767px) {
        .c-reviews-carousel__{{_.id}} {
            margin-top: {{mobile_margin.top.value}}{{mobile_margin.top.type}};
            margin-bottom: {{mobile_margin.bottom.value}}{{mobile_margin.bottom.type}};
        }
    }
</style>
    
<section class="js-review-swiper c-carousel c-reviews-carousel c-reviews-carousel__{{_.id}}">
    <div class="swiper-wrapper">
        {{#each slides}}
            <div class="swiper-slide">
                <div class="c-review-carousel__card" data-rating="{{rating}}">
                    <div class="c-review-carousel__rating-stars"></div>
                    <div class="c-review-carousel__summary">{{summary}}</div>
                    <div class="c-review-carousel__name">{{name}}</div>
                </div>
            </div>
        {{/each}}
    </div>

    <div class="c-review-carousel__slide-navigation">
        <div class="js-swiper-btn-prev"></div>
        <div class="js-swiper-pagination"></div>
        <div class="js-swiper-btn-next"></div>
    </div>
</section>

<script>
    function updateStarRatings() {
        const reviewCards = document.querySelectorAll('.c-review-carousel__card');

        reviewCards.forEach(card => {
            const rating = parseFloat(card.dataset.rating);
            const fullStar = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 0L7.66869 4.21848L12 4.58359L8.7 7.55587L9.7082 12L6 9.61848L2.2918 12L3.3 7.55587L0 4.58359L4.33131 4.21848L6 0Z" fill="#C1A45A"/></svg>';
            const halfStar = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"> <path d="M6 1.35931L7.20375 4.4024L7.31778 4.69068L7.62669 4.71672L10.8074 4.98484L8.36538 7.18435L8.14752 7.38056L8.21239 7.66649L8.95026 10.919L6.27019 9.19777L6 9.02425L5.72981 9.19777L3.04974 10.919L3.78761 7.66649L3.85247 7.38056L3.63462 7.18435L1.19259 4.98484L4.37331 4.71672L4.68222 4.69068L4.79625 4.4024L6 1.35931Z" fill="url(#paint0_linear_3074_23531)" stroke="#C1A45A"/> <defs> <linearGradient id="paint0_linear_3074_23531" x1="0" y1="6" x2="12" y2="6" gradientUnits="userSpaceOnUse"> <stop stop-color="#C1A45A"/> <stop offset="0.5" stop-color="#C1A45A"/> <stop offset="0.5" stop-color="#C1A45A" stop-opacity="0"/> <stop offset="1" stop-color="#C1A45A" stop-opacity="0"/> </linearGradient> </defs> </svg>';
            const emptyStar = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none"> <path d="M6 1.35931L7.20375 4.4024L7.31778 4.69068L7.62669 4.71672L10.8074 4.98484L8.36538 7.18435L8.14752 7.38056L8.21239 7.66649L8.95026 10.919L6.27019 9.19777L6 9.02425L5.72981 9.19777L3.04974 10.919L3.78761 7.66649L3.85247 7.38056L3.63462 7.18435L1.19259 4.98484L4.37331 4.71672L4.68222 4.69068L4.79625 4.4024L6 1.35931Z" stroke="#C1A45A"/> </svg>';

            let html = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= rating) {
                    html += fullStar;
                } else if (i - 0.5 === rating) {
                    html += halfStar;
                } else {
                    html += emptyStar;
                }
            }

            card.querySelector('.c-review-carousel__rating-stars').innerHTML = html;
        });
    }

    updateStarRatings();
</script>