<div>
    <form action="{{forms.search.action}}" class="js-advanced-search-form mt-8 md:w-1/3" id="advanced-search-content" aria-hidden="true">
        <input type="hidden" name="mode" value="1">
        <div class="font-bold">
            {{lang 'forms.search.title'}}
        </div>
        <div>
            <fieldset class="my-4">
                <div>
                    <label for="search_query_adv">
                        {{lang 'forms.search.query' }}
                        <small>
                            {{lang 'common.required' }}
                        </small>
                    </label>
                    <input 
                        type="text" 
                        name="search_query_adv" 
                        data-error-message="{{lang 'search.error.empty_field'}}" 
                        id="search_query_adv" 
                        value="{{forms.search.query}}"
                        class="w-full my-2"
                    >
                </div>
                <div>
                    <label for="search-form-brand">
                        {{lang 'forms.search.brand' }}
                    </label>
                    <select name="brand" id="search-form-brand" class="w-full my-2">
                        <option value="">{{lang 'common.no_preference'}}</option>
                        {{#each forms.search.brands_list}}
                            <option value="{{id}}" {{#if ../forms.search.values.brand '==' id}}selected{{/if}}>
                                {{name}}
                            </option>
                        {{/each}}
                    </select>
                </div>
            </fieldset>

            <fieldset class="my-4">
                <div>
                    <label>
                        {{lang 'forms.search.categories' }}
                    </label>
                    <div class="js-search-category-tree w-full my-2"></div>
                </div>
                <div class="w-full my-2">
                    <input type="checkbox" name="searchsubs" value="ON" id="search-form-searchsubs" checked>
                    <label for="search-form-searchsubs">
                        {{lang 'forms.search.searchsubs'}}
                    </label>
                </div>
            </fieldset>
        </div>
        <hr>
        <div>
            <div class="my-4">
                <div>
                    {{lang 'forms.search.by_price'}}
                </div>
                <p for="search-form-price-from">
                    {{lang 'forms.search.price_range' }}
                </p>

                <div class="flex gap-4">
                    <label>
                        <span class="u-hidden-visually">
                            {{lang 'forms.search.price_range' }}
                        </span>
                        <span>
                            {{lang 'common.from'}}
                        </span>
                        <input 
                            type="number" 
                            step="any" 
                            name="price_from" 
                            id="search-form-price-from" 
                            value="{{forms.search.values.price_from}}"
                            class="w-full my-2"
                        >
                    </label>
                    <label>
                        <span class="u-hidden-visually">
                            {{lang 'forms.search.price_range' }}
                        </span>
                        <span class="capitalize">
                            {{lang 'common.to'}}
                        </span>
                        <input 
                            type="number" 
                            step="any" 
                            name="price_to" 
                            id="search-form-price-to" 
                            value="{{forms.search.values.price_to}}"
                            class="w-full my-2"
                        >
                    </label>
                </div>
            </div>
        </div>
        <hr>
        <div class="my-4">
            {{lang 'forms.search.by_setting'}}
        </div>
        <div>
            <div>
                <label for="search-form-featured">
                    {{lang 'forms.search.featured_products.title' }}
                </label>
                <select name="featured" id="search-form-featured" class="w-full my-2">
                    <option value="">
                        {{lang 'common.no_preference'}}
                    </option>
                    <option value="1"{{#if forms.search.values.featured_products '===' '1'}} selected{{/if}}>
                        {{lang 'forms.search.featured_products.enabled' }}
                    </option>
                    <option value="2"{{#if forms.search.values.featured_products '===' '2'}} selected{{/if}}>
                        {{lang 'forms.search.featured_products.disabled' }}
                    </option>
                </select>
            </div>

            <div>
                <label for="search-form-shipping">
                    {{lang 'forms.search.free_shipping.title' }}
                </label>
                <select name="shipping" id="search-form-shipping" class="w-full my-2">
                    <option value="">
                        {{lang 'common.no_preference'}}
                    </option>
                    <option value="1"{{#if forms.search.values.free_shipping '===' '1'}} selected{{/if}}>
                        {{lang 'forms.search.free_shipping.free' }}
                    </option>
                    <option value="2"{{#if forms.search.values.free_shipping '===' '2'}} selected{{/if}}>
                        {{lang 'forms.search.free_shipping.paid' }}
                    </option>
                </select>
            </div>
        </div>
        <div class="my-4 flex justify-end">
            <button class="c-button--primary w-full md:w-1/3" type="submit">
                {{lang 'forms.search.search' }}
            </button>
        </div>
    </form>
</div>
