<nav class="js-nav-pages flex flex-col">
    <div class="md:hidden">
        {{> components/common/quick-search name='nav-menu-quick-search'}}
    </div>
    <ul class="js-nav-pages-list{{#if theme_settings.navigation_design '!==' 'simple'}} js-nav-pages-list-depth-max{{/if}} mx-auto flex gap-4 items-center">
        {{#each categories}}
            <li>
                {{#if ../theme_settings.navigation_design '===' 'simple'}}
                    {{> components/common/navigation-list}}
                {{/if}}
                {{#if ../theme_settings.navigation_design '===' 'alternate'}}
                    {{> components/common/navigation-list-alternate}}
                {{/if}}
            </li>
        {{/each}}
        {{#unless theme_settings.hide_content_navigation}}
            {{#each pages}}
                <li>
                    <a 
                        class="js-nav-pages-action{{#if name '==' ../page.title}} active-page{{/if}} font-bold uppercase py-4"
                        href="{{url}}"
                        aria-label="{{name}}"
                    >
                        {{name}}
                    </a>
                </li>
            {{/each}}
        {{/unless}}
    </ul>
    <ul>
        {{#if currency_selector.currencies.length '>' 1}}
            <li>
                <a 
                    class="js-nav-pages-action has-sub-menu font-bold uppercase flex items-center gap-2 py-4"
                    href="#"
                    data-collapsible="nav-pages-currency"
                    aria-controls="nav-pages-currency"
                    aria-expanded="false"
                    aria-label="{{lang 'common.currency' code=currency_selector.active_currency_code}}"
                >
                    {{lang 'common.currency' code=currency_selector.active_currency_code}}
                    <svg class="w-4 h-4">
                        <use href="#icon-chevron-down"></use>
                    </svg>
                </a>
                <div id="nav-pages-currency" aria-hidden="true" tabindex="-1">
                    <ul>
                        {{#each currency_selector.currencies}}
                            <li>
                                <a 
                                    class="js-nav-pages-action font-bold uppercase"
                                    href="{{{switch_url}}}"
                                    aria-label="{{name}}"
                                    data-currency-code="{{{code}}}"
                                    {{#if cart_currency_switch_url.length '>' 0 }}
                                        data-cart-currency-switch-url="{{{cart_currency_switch_url}}}"
                                    {{/if}}
                                    data-warning="{{lang 'common.currency_switch_promotion'}}"
                                >
                                    {{#if is_active}}
                                        <strong>{{name}}</strong>
                                    {{else}}
                                        {{name}}
                                    {{/if}}
                                </a>
                            </li>
                        {{/each}}
                    </ul>
                </div>
            </li>
        {{/if}}
        {{#if settings.gift_certificates_enabled}}
            <li>
                <a 
                    class="js-nav-pages-action font-bold uppercase py-4"
                    href="{{urls.gift_certificate.purchase}}"
                    aria-label="{{lang 'common.gift_cert'}}"
                >
                    {{lang 'common.gift_cert'}}
                </a>
            </li>
        {{/if}}
        {{#if customer.store_credit.value '>' 0}}
            <li>
                <a class="js-nav-pages-action font-bold uppercase py-4">
                    {{lang 'common.store_credit_overview' credit=customer.store_credit.formatted}}
                </a>
            </li>
        {{/if}}
        {{#if theme_settings.product_list_display_mode '==' 'list'}}
            <li>
                <a 
                    class="js-nav-pages-action js-compare-nav font-bold uppercase py-4"
                    href="{{urls.compare}}"
                    aria-label="{{lang 'common.compare'}}"
                >
                    {{lang 'common.compare'}}
                    <span class="js-count-pill is-positive"></span>
                </a>
            </li>
        {{/if}}
        {{#if customer}}
            <li>
                <a 
                    class="js-nav-pages-action has-sub-menu font-bold uppercase"
                    href="{{urls.account.index}}"
                    data-collapsible="nav-pages-account"
                    aria-label="{{lang 'common.account'}}"
                >
                    {{lang 'common.account'}}
                    <svg>
                        <use href="#icon-chevron-down" />
                    </svg>
                </a>
                <div id="nav-pages-account" aria-hidden="true" tabindex="-1" class="hidden">
                    <ul>
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.orders.all}}"
                                aria-label="{{lang 'account.nav.orders'}}"
                            >
                                {{lang 'account.nav.orders'}}
                            </a>
                        </li>
                        {{#if settings.returns_enabled}}
                            <li>
                                <a 
                                    class="js-nav-pages-action"
                                    href="{{urls.account.returns}}"
                                    aria-label="{{lang 'account.nav.returns'}}"
                                >
                                    {{lang 'account.nav.returns'}}
                                </a>
                            </li>
                        {{/if}}
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.inbox}}"
                                aria-label="{{lang 'account.mobile_nav.messages'}}"
                            >
                                {{lang 'account.mobile_nav.messages'}}
                            </a>
                        </li>
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.addresses}}"
                                aria-label="{{lang 'account.nav.addresses'}}"
                            >
                                {{lang 'account.nav.addresses'}}
                            </a>
                        </li>
                        {{#if settings.show_payment_methods}}
                            <li>
                                <a 
                                    class="js-nav-pages-action"
                                    href="{{urls.account.payment_methods.all}}"
                                    aria-label="{{lang 'account.nav.payment_methods'}}"
                                >
                                    {{lang 'account.nav.payment_methods'}}
                                </a>
                            </li>
                        {{/if}}
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.wishlists.all}}"
                                aria-label="{{lang 'account.mobile_nav.wishlists'}}"
                            >
                                {{lang 'account.mobile_nav.wishlists'}}
                            </a>
                        </li>
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.recent_items}}"
                                aria-label="{{lang 'account.nav.recently_viewed'}}"
                            >
                                {{lang 'account.nav.recently_viewed'}}
                            </a>
                        </li>
                        <li>
                            <a 
                                class="js-nav-pages-action"
                                href="{{urls.account.details}}"
                                aria-label="{{lang 'account.nav.settings'}}"
                            >
                                {{lang 'account.nav.settings'}}
                            </a>
                        </li>
                    </ul>
                </div>
            </li>
            <li>
                <a 
                    class="js-nav-pages-action font-bold uppercase"
                    href="{{urls.auth.logout}}"
                    aria-label="{{lang 'common.logout'}}"
                >
                    {{lang 'common.logout'}}
                </a>
            </li>
        {{else}}
            <li class="md:hidden">
                <a 
                    class="js-nav-pages-action font-bold uppercase"
                    href="{{urls.auth.login}}"
                    aria-label="{{lang 'common.login'}}"
                >
                    {{lang 'common.login'}}
                </a>
                {{#if settings.account_creation_enabled}}
                    {{lang 'common.or'}}
                    <a 
                        class="js-nav-pages-action font-bold uppercase"
                        href="{{urls.auth.create_account}}"
                        aria-label="{{lang 'common.sign_up'}}"
                    >
                        {{lang 'common.sign_up'}}
                    </a>
                {{/if}}
            </li>
        {{/if}}
        {{#if theme_settings.social_icon_placement_top}}
            <li>
                {{> components/common/social-links}}
            </li>
        {{/if}}
    </ul>
</nav>
