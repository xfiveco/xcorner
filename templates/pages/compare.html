{{#partial "page"}}
{{inject 'comparisons' comparisons}}
{{inject 'compareRemoveMessage' (lang 'compare.no_remove')}}

{{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

<h1 class="p-common__title">
    {{lang 'compare.products'}}
</h1>

<div class="p-compare">
    {{#each comparisons}}
        <div class="p-compare__card">
            {{> components/products/card-alternate class="c-card__compare-article" hide_price='true'}}
            <div class="p-compare__description">
                {{{ summary }}}
            </div>
            <div class="p-compare__details">
                <span class="p-compare__detail-label">
                    {{lang 'products.availability'}}
                </span>
                <div class="p-compare__detail-value">
                    {{#if availability}}
                        {{ availability }}
                    {{else}}
                        {{lang 'common.not_applicable'}}
                    {{/if}}
                </div>
            </div>
            {{#if custom_fields}}
                {{#each custom_fields}}
                    <div class="p-compare__details">
                        <span class="p-compare__detail-label">
                            {{strReplace name '_' ' '}}?
                        </span>
                        <div class="p-compare__detail-value">
                            {{{value}}}
                        </div>
                    </div>
                {{/each}}
            {{/if}}
            {{#if price.without_tax}}
                <div class="p-compare__details">
                    <span class="p-compare__detail-label">
                        {{lang 'cart.checkout.price'}}
                    </span>
                    <div class="p-compare__detail-value u-font-bold">
                        {{price.without_tax.formatted}}
                    </div>
                </div>
            {{/if}}
        </div>
    {{/each}}
</div>

{{/partial}}
{{> layout/base}}
